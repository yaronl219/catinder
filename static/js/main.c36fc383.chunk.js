(this.webpackJsonpcatinder=this.webpackJsonpcatinder||[]).push([[0],{84:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),i=n.n(c),s=n(13),r=n.n(s),o=(n(84),n(16)),d=n(123),l=n(127),u=n(124),j=n(12),h=n(125);function b(e){var t=e.children,n=e.parentRef,i=e.id,s=e.lastIdChanged,r=e.swipeSuccessMarginPercentage,d=void 0===r?70:r,l=e.onSwipeRight,u=void 0===l?function(){}:l,j=e.onSwipeLeft,h=void 0===j?function(){}:j,b=e.onSwipeEnd,f=void 0===b?function(){}:b,O=Object(c.useRef)(),g=!1,m=null,x=null,p=n.offsetWidth/(1+d/100),v=Object(c.useRef)(),k=Object(c.useRef)(),C=Object(c.useState)(0),S=Object(o.a)(C,2),y=S[0],M=S[1],L=Object(c.useState)(0),w=Object(o.a)(L,2),N=w[0],A=w[1],T=Object(c.useState)(""),E=Object(o.a)(T,2),I=E[0],R=E[1],P=Object(c.useRef)(0);function D(e,t){if(!m||!x)return m=e,void(x=t);M(y+(e-m)),A(N+(t-x))}function F(e){R("card-swiped-".concat(e)),setTimeout((function(){f(i,e)}),500)}function B(e){g=!1,(v.current?(F("right"),"right"):k.current&&(F("left"),"left"))||(R("reseting"),M(0),A(0),P.current=0,m=0,x=0,setTimeout((function(){R("")}),500))}function U(e){g&&D(e.clientX,e.clientY)}function J(e){g=!0}function W(e){e.preventDefault(),D(e.touches[0].clientX,e.touches[0].clientY)}return Object(c.useEffect)((function(){y>0&&u(y),y<0&&h(y)}),[y,h,u]),Object(c.useEffect)((function(){s.id===i&&F(s.dir)}),[s.id,i,F]),Object(c.useEffect)((function(){O.current&&(O.current.addEventListener("mousedown",J),O.current.addEventListener("mouseup",B),O.current.addEventListener("mousemove",U),O.current.addEventListener("touchmove",W),O.current.addEventListener("touchend",B))}),[]),Object(c.useEffect)((function(){v.current=y>p,k.current=y<-1*p,P.current=y/p/10}),[y,p,v]),Object(a.jsx)("div",{ref:O,style:{transform:"matrix(1.00,".concat(P.current,",").concat(-P.current,",1.00,").concat(y,",").concat(N,")")},className:"card-container ".concat(I),children:t})}var f=n(117),O={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},parseTimestamp:function(e){return new Date(e).toLocaleString()},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},getDistanceFromLatLonInKm:function(e,t,n,a){var c=o(n-e),i=o(a-t),s=Math.sin(c/2)*Math.sin(c/2)+Math.cos(o(e))*Math.cos(o(n))*Math.sin(i/2)*Math.sin(i/2),r=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return 6371*r;function o(e){return e*(Math.PI/180)}}};var g=n(63),m=n(28),x=n.n(m),p=n(39),v=n(14),k={saveToStorage:function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)},loadFromStorage:function(e){var t=localStorage.getItem(e);return JSON.parse(t)}};var C={getCats:function(){return S.apply(this,arguments)},onLike:function(e){var t=k.loadFromStorage("cats");t||(t={likedCats:[],dislikedCats:[]});t.likedCats=e,k.saveToStorage("cats",t)},onDislike:function(e){var t=k.loadFromStorage("cats");t||(t={likedCats:[],dislikedCats:[]});t.dislikedCats.push(e),k.saveToStorage("cats",t)},getLikedCats:function(){var e=k.loadFromStorage("cats");e||(e={likedCats:[],dislikedCats:[]});return k.saveToStorage("cats",e),e.likedCats},getUserPrefs:y,setMaxRadius:function(e){var t=y();t.maxRadius=e,k.saveToStorage("catUserPrefs",t)},setCatAge:function(e,t){var n=y();n.catAgeMin=e,n.catAgeMax=t,k.saveToStorage("catUserPrefs",n)},onUndo:function(){var e=k.loadFromStorage("cats"),t=e.dislikedCats.pop();return k.saveToStorage("cats",e),t}};function S(){return(S=Object(p.a)(x.a.mark((function e(){var t,n,a=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:20,e.next=3,M("https://api.thecatapi.com/v1/images/search?limit=".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){var e=k.loadFromStorage("catUserPrefs");return e||(e={maxRadius:10,catAgeMin:0,catAgeMax:12}),e}function M(e){return L.apply(this,arguments)}function L(){return(L=Object(p.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var w={createCatObject:function(e,t,n,a,c,i,s){return{id:t,name:A(),img:e,age:T(n,a),coords:E(c,i,s)}}},N=["Abby","Angel","Annie","Baby","Bailey","Bandit","Bear","Bella","Bob","Boo","Boots","Bubba","Buddy","Buster","Cali","Callie","Casper","Charlie","Chester","Chloe","Cleo","Coco","Cookie","Cuddles","Daisy","Dusty","Felix","Fluffy","Garfield","George","Ginger","Gizmo","Gracie","Harley","Jack","Jasmine","Jasper","Kiki","Kitty","Leo","Lilly","Lily","Loki","Lola","Lucky","Lucy","Luna","Maggie","Max","Mia","Midnight","Milo","Mimi","Miss kitty","Missy","Misty","Mittens","Molly","Muffin","Nala","Oliver","Oreo","Oscar","Patches","Peanut","Pepper","Precious","Princess","Pumpkin","Rascal","Rocky","Sadie","Salem","Sam","Samantha","Sammy","Sasha","Sassy","Scooter","Shadow","Sheba","Simba","Simon","Smokey","Snickers","Snowball","Snuggles","Socks","Sophie","Spooky","Sugar","Tiger","Tigger","Tinkerbell","Toby","Trouble","Whiskers","Willow","Zoe","Zoey"];function A(){var e=O.getRandomInt(0,N.length);return N[e]}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=O.getRandomInt(12*e,12*t);return n<12?"".concat(n," months"):"".concat(Math.floor(n/12))}function E(e,t,n){var a=n/100/Math.PI*2;return{lat:O.getRandomInt(1e4*e-1e4*a,1e4*e+1e4*a)/1e4,lng:O.getRandomInt(1e4*t-1e4*a,1e4*t+1e4*a)/1e4}}function I(){return{cards:[],likedCats:[],maxDistance:10,catAgeMin:0,catAgeMax:12,userLocation:null,setUserLocation:function(e){var t=e.coords,n=t.latitude,a=t.longitude;this.userLocation={latitude:n,longitude:a}},getCats:function(){var e=this;return Object(p.a)(x.a.mark((function t(){var n,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=20,e.cards.length!==n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,C.getCats(n-e.cards.length);case 5:return a=t.sent,Object(v.e)((function(){a.forEach((function(t){var n=w.createCatObject(t.url,t.id,e.catAgeMin,e.catAgeMax,e.userLocation.latitude,e.userLocation.longitude,e.maxDistance);e.cards.unshift(n)}))})),t.abrupt("return");case 8:case"end":return t.stop()}}),t)})))()},getUserPrefs:function(){var e=C.getUserPrefs();this.maxDistance=e.maxRadius,this.catAgeMin=e.catAgeMin,this.catAgeMax=e.catAgeMax},setCatAge:function(e,t){this.catAgeMin=e,this.catAgeMax=t,this.cards=[],C.setCatAge(e,t)},setMaxRadius:function(e){this.maxDistance=e,this.cards=[],C.setMaxRadius(e)},getLikedCats:function(){var e=C.getLikedCats();this.likedCats=e},onSwipe:function(e,t){this.cards=this.cards.filter((function(t){return t.id!==e.id})),this.likedCats.unshift(e),"right"===t?C.onLike(Object(v.f)(this.likedCats)):C.onDislike(e),this.cards.length<10&&this.getCats()},onUndo:function(){var e=C.onUndo();return e?(this.cards.push(e),e):null},onDislikeCatById:function(e){this.likedCats=this.likedCats.filter((function(t){return t.id!==e})),C.onLike(Object(v.f)(this.likedCats))}}}var R=i.a.createContext(null),P=function(e){var t=e.children,n={cardStore:Object(g.a)(I)};return Object(a.jsx)(R.Provider,{value:n,children:t})},D=function(){return i.a.useContext(R)};function F(e){var t=e.cat,n=D().cardStore.userLocation,s=Object(c.useState)(!1),r=Object(o.a)(s,2),d=r[0],l=r[1];return Object(c.useEffect)((function(){var e=new Image;return e.src=t.img,e.onload=function(){l(!0)},function(){}}),[t.img]),Object(a.jsx)(i.a.Fragment,{children:d?Object(a.jsx)("div",{className:"cat-container",style:{backgroundImage:"url('".concat(t.img,"')")},children:Object(a.jsxs)("div",{className:"mask",children:[Object(a.jsx)("div",{className:"placeholder"}),Object(a.jsxs)("div",{className:"cat-details",children:[Object(a.jsxs)("div",{className:"cat-header",children:[Object(a.jsx)("span",{children:Object(a.jsx)("h3",{className:"cat-name",children:t.name})}),Object(a.jsx)("span",{className:"cat-age",children:t.age})]}),Object(a.jsx)("div",{className:"cat-distance",children:n?Object(a.jsxs)("span",{children:[Math.round(O.getDistanceFromLatLonInKm(n.latitude,n.longitude,t.coords.lat,t.coords.lng))," km away"]}):Object(a.jsx)(i.a.Fragment,{})})]})]})}):Object(a.jsx)("div",{className:"cat-container",children:Object(a.jsx)(f.a,{})})})}var B=n(48),U=n.n(B),J=n(47),W=n.n(J),G=n(69),q=n.n(G),z=n(121),K=n(120),X=n(128);function Y(e){var t=e.isOpen,n=e.behavior;return Object(a.jsx)(K.a,{in:t,direction:function(){switch(n){case"like":return"left";case"dislike":return"right";default:return"up"}}(),children:Object(a.jsx)(X.a,{open:!0,children:Object(a.jsx)("div",{className:"snackbar-container",style:{backgroundColor:function(){switch(n){case"like":return"#63D471";case"dislike":return"#fd5068";default:return"rgb(64,64,64)"}}()},children:Object(a.jsx)("h3",{children:function(){switch(n){case"like":return"Liked!";case"dislike":return"Nope";default:return"Undo"}}()})})})})}function Z(){var e=D().cardStore,t=Object(c.useRef)(),n=Object(c.useState)(!1),s=Object(o.a)(n,2),r=s[0],d=s[1],l=Object(c.useState)({id:null,dir:""}),u=Object(o.a)(l,2),j=u[0],f=u[1],O=Object(c.useState)(!1),g=Object(o.a)(O,2),m=g[0],x=g[1],p=Object(c.useState)(""),k=Object(o.a)(p,2),C=k[0],S=k[1];function y(e){39===e.keyCode?M():37===e.keyCode&&L()}function M(){var t=Object(v.f)(e.cards),n=t[t.length-1];f({id:n.id,dir:"right"})}function L(){var t=Object(v.f)(e.cards),n=t[t.length-1];f({id:n.id,dir:"left"})}function w(){f({id:null,dir:""}),e.onUndo()&&A("undo")}Object(c.useEffect)((function(){return e.getCats(),window.addEventListener("keyup",y),function(){window.removeEventListener("keyup",y)}}),[]),Object(c.useEffect)((function(){return t.current&&d(!0),function(){d(!1)}}),[t.current]);var N=function(t,n){var a=Object(v.f)(e.cards).find((function(e){return e.id===t}));a&&(e.onSwipe(a,n),A("right"===n?"like":"dislike"))};function A(e){S(e),x(!0),setTimeout((function(){x(!1)}),3e3)}return Object(h.a)((function(){return Object(a.jsxs)("section",{className:"card-page-container",children:[Object(a.jsx)("div",{className:"upper-container",children:Object(a.jsx)("div",{ref:t,className:"cards-container",children:e.cards.length&&r?Object(a.jsx)("div",{children:e.cards.map((function(e,n){return Object(a.jsx)(b,{parentRef:t.current,lastIdChanged:j,id:e.id,onSwipeEnd:N,children:Object(a.jsx)(F,{cat:e})},"".concat(e.id,"-").concat(n))}))}):Object(a.jsx)(i.a.Fragment,{})})}),Object(a.jsxs)("div",{className:"bottom-action-bar",children:[Object(a.jsx)("div",{className:"dislike-container",children:Object(a.jsx)(z.a,{onClick:L,children:Object(a.jsx)(W.a,{})})}),Object(a.jsx)("div",{className:"undo-container",children:Object(a.jsx)(z.a,{onClick:w,children:Object(a.jsx)(q.a,{})})}),Object(a.jsx)("div",{className:"like-container",children:Object(a.jsx)(z.a,{onClick:M,children:Object(a.jsx)(U.a,{})})})]}),Object(a.jsx)(Y,{isOpen:m,behavior:C})]})}))}var H=n(122);function Q(e){var t=D().cardStore;return Object(c.useEffect)((function(){t.getLikedCats()}),[]),Object(h.a)((function(){return Object(a.jsxs)("section",{className:"liked-cats-page",children:[Object(a.jsx)("h2",{children:"Liked Cats"}),Object(a.jsx)("div",{className:"liked-cats-container",children:t.likedCats&&t.likedCats.length?t.likedCats.map((function(e){return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)("div",{className:"liked-cat-container",children:[Object(a.jsx)("div",{className:"close-container",children:Object(a.jsx)(H.a,{onClick:function(){return t.onDislikeCatById(e.id)},size:"small",children:Object(a.jsx)(W.a,{fontSize:"small"})})}),Object(a.jsx)(F,{cat:e})]})},e.id)})):Object(a.jsxs)("div",{className:"liked-cats-empty-state",children:[Object(a.jsx)("h3",{children:"No Cats!"}),Object(a.jsx)("p",{children:"Looks like you haven't liked any cats."}),Object(a.jsx)("p",{children:"Why not like some now?"})]})})]})}))}var V=n(129),$=n.p+"static/media/baby-cat.21007a7b.jpg",_=n.p+"static/media/med-cat.aa909114.jpg",ee=n.p+"static/media/grown-cat.ee771749.jpg",te=n.p+"static/media/old-cat.976ce761.jpg";function ne(){var e=D().cardStore,t=Object(c.useState)([0,12]),n=Object(o.a)(t,2),i=n[0],s=n[1],r=Object(c.useState)(10),d=Object(o.a)(r,2),l=d[0],u=d[1];return Object(c.useEffect)((function(){var t=e.catAgeMin,n=e.catAgeMax,a=e.maxDistance;s([t,n]),u(a)}),[e]),Object(a.jsxs)("section",{className:"user-pref-page",children:[Object(a.jsxs)("div",{className:"slider-container",children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsx)("h3",{children:"Filter the cats you want to meet"})}),Object(a.jsxs)("div",{className:"cat-age-container",children:[Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("span",{children:"Age Range"}),Object(a.jsxs)("span",{children:[i[0]," - ",i[1]]})]}),Object(a.jsx)(V.a,{value:i,color:"secondary",onChange:function(t,n){s(n),e.setCatAge(n[0],n[1])},valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:0,max:20})]}),Object(a.jsxs)("div",{className:"max-radius-container",children:[Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("span",{children:"Maximum Distance"}),Object(a.jsxs)("span",{children:[l," km"]})]}),Object(a.jsx)(V.a,{value:l,color:"secondary",onChange:function(t,n){u(n),e.setMaxRadius(n)},valueLabelDisplay:"auto",min:0,max:100})]})]}),Object(a.jsx)("div",{className:"cat-img-container",children:Object(a.jsx)("img",{src:function(){var e=(i[0]+i[1])/2;return e<2?$:e<9?_:e<15?ee:te}(),alt:"cat"})})]})}var ae=n(70),ce=n.n(ae),ie=n(71),se=n.n(ie),re=n(72),oe=n.n(re),de=n(126),le=n.p+"static/media/grumpycat.99162d77.jpg";function ue(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],s=0;function r(){10===(s+=1)&&(s=0,i(!0))}return Object(c.useEffect)((function(){return window.addEventListener("click",r),function(){window.removeEventListener("click",r)}}),[]),Object(a.jsxs)("section",{className:"about-page",children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsxs)("h2",{children:["About ",Object(a.jsx)("span",{children:"CaTinder"})]})}),Object(a.jsxs)("div",{className:"app-desc",children:[Object(a.jsx)("p",{children:"CaTinder started as a joke project to create, as you might have guessed, a Tinder for cats."}),Object(a.jsx)("p",{children:"If you're wondering, they wont like you back."}),Object(a.jsx)("p",{children:"They don't have thumbs..."}),Object(a.jsx)("p",{children:"And also... they're cats..."})]}),Object(a.jsxs)("div",{className:"credits",children:[Object(a.jsxs)("p",{children:["Thanks to ",Object(a.jsx)("a",{href:"https://thecatapi.com/",children:"The Cat API"})," for the cat photos."]}),Object(a.jsxs)("p",{children:["This project was created by ",Object(a.jsx)("a",{href:"https://yaronl219.github.io/portfolio/",children:"Yaron Lipshitz"})]}),Object(a.jsxs)("p",{children:["If you want to see more projects, visit my ",Object(a.jsx)("a",{href:"https://yaronl219.github.io/portfolio/",children:Object(a.jsx)("span",{children:"portfolio"})})]})]}),Object(a.jsxs)("div",{className:"adopt",children:[Object(a.jsx)("h4",{children:"Like the cats?"}),Object(a.jsxs)("p",{children:["Why not ",Object(a.jsx)("a",{href:"https://www.google.com/search?q=adopt+a+pet&oq=adopt+a+pet",children:"Adopt a new friend?"})]})]}),Object(a.jsxs)("div",{className:"tools",children:[Object(a.jsx)("h4",{children:"Tools used in this project:"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"React"}),Object(a.jsx)("li",{children:"MobX"}),Object(a.jsx)("li",{children:"SCSS"}),Object(a.jsx)("li",{children:"Material UI"})]})]}),Object(a.jsx)(de.a,{open:n,onBackdropClick:function(){i(!1)},children:Object(a.jsx)("div",{onClick:function(){i(!1)},className:"easter-egg",children:Object(a.jsx)("img",{src:le,alt:"grumpy cat"})})})]})}var je=function(){var e=Object(j.f)(),t=Object(j.g)(),n=D().cardStore,s=Object(c.useState)(0),r=Object(o.a)(s,2),h=r[0],b=r[1],f=Object(c.useState)(!1),O=Object(o.a)(f,2),g=O[0],m=O[1],x=["/home","/liked","/user","/about"];function p(t){var n=x.findIndex((function(e){return e===t}));n<0&&(n=0),b(n),e.push(x[n])}return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){console.log("app got loc"),n.setUserLocation(e),n.getUserPrefs(),console.log("loaded"),m(!0)}))}),[]),Object(c.useEffect)((function(){p(t.pathname)}),[t.pathname]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(d.a,{children:Object(a.jsxs)(l.a,{value:h,variant:"fullWidth",onChange:function(e,t){return p(x[t])},children:[Object(a.jsx)(u.a,{icon:Object(a.jsx)(ce.a,{})}),Object(a.jsx)(u.a,{icon:Object(a.jsx)(U.a,{})}),Object(a.jsx)(u.a,{icon:Object(a.jsx)(se.a,{})}),Object(a.jsx)(u.a,{icon:Object(a.jsx)(oe.a,{})})]})}),g?Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{component:ue,path:"/about"}),Object(a.jsx)(j.a,{component:ne,path:"/user"}),Object(a.jsx)(j.a,{component:Q,path:"/liked"}),Object(a.jsx)(j.a,{component:Z,path:"/"})]}):Object(a.jsx)(i.a.Fragment,{})]})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},be=n(55);r.a.render(Object(a.jsx)(be.a,{children:Object(a.jsx)(P,{children:Object(a.jsx)(je,{})})}),document.getElementById("root")),he()}},[[91,1,2]]]);
//# sourceMappingURL=main.c36fc383.chunk.js.map