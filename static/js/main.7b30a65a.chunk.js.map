{"version":3,"sources":["cmps/Card.jsx","services/utilService.js","services/storageService.js","services/cardService.js","services/catService.js","store/cardStore.js","store/storeContext.js","cmps/Cat.jsx","cmps/Toast.jsx","Pages/CardSwipePage.jsx","Pages/LikedCatsPage.jsx","assets/imgs/baby-cat.jpg","assets/imgs/med-cat.jpg","assets/imgs/grown-cat.jpg","assets/imgs/old-cat.jpg","Pages/UserPrefPage.jsx","assets/imgs/grumpycat.jpg","Pages/AboutPage.jsx","cmps/LocationError.jsx","App.js","reportWebVitals.js","index.js"],"names":["Card","children","parentRef","id","lastIdChanged","swipeSuccessMarginPercentage","onSwipeRight","onSwipeLeft","onSwipeEnd","cardRef","useRef","shouldMove","lastX","lastY","parentLimit","offsetWidth","isInRightLimit","isInLeftLimit","useState","offsetX","setOffsetX","offsetY","setOffsetY","elClass","setElClass","rotation","onMove","x","y","onSwipeComplete","dir","setTimeout","onMoveEnd","ev","current","onMouseMove","clientX","clientY","onMouseDown","onTouchMove","preventDefault","touches","useEffect","addEventListener","ref","style","transform","className","utilService","makeId","length","txt","possible","i","charAt","Math","floor","random","parseTimestamp","timestamp","Date","toLocaleString","getRandomInt","min","max","ceil","getDistanceFromLatLonInKm","lat1","lon1","lat2","lon2","dLat","deg2rad","dLon","a","sin","cos","c","atan2","sqrt","deg","PI","storageService","saveToStorage","key","val","str","JSON","stringify","localStorage","setItem","loadFromStorage","getItem","parse","cardService","getCats","onLike","likedCats","cats","dislikedCats","onDislike","cat","push","getLikedCats","getUserPrefs","setMaxRadius","maxRadius","userPrefs","setCatAge","catAgeMin","catAgeMax","onUndo","pop","amount","_httpGet","url","fetch","res","json","data","console","log","catService","createCatObject","catImg","minAge","maxAge","lat","lng","name","_getCatName","img","age","_getCatAge","coords","_getCatLocation","catNames","rand","catAge","distance","createCardStore","cards","maxDistance","userLocation","setUserLocation","latitude","longitude","this","amountOfCatsToLoad","runInAction","forEach","catObj","unshift","onSwipe","filter","currCat","toJS","onDislikeCatById","StoreContext","React","createContext","StoreProvider","stores","cardStore","useLocalStore","Provider","value","useStore","useContext","Cat","imgReady","setImgReady","Image","src","onload","Fragment","backgroundImage","round","CircularProgress","Toast","isOpen","behavior","Slide","in","direction","getDirection","Snackbar","open","backgroundColor","getColor","getMsg","CardSwipePage","containerReady","setContainerReady","setLastIdChanged","isSnackBarOpen","setSnackBarOpen","snackBarBehavior","setSnackBarBehavior","onKeyPress","keyCode","onManualLike","onManualDislike","onClickUndo","openSnackbar","window","removeEventListener","catId","find","useObserver","map","card","idx","Fab","onClick","LikedCatsPage","props","IconButton","size","fontSize","UserPrefPage","radius","setRadius","Slider","color","onChange","valueLabelDisplay","aria-labelledby","avgCatAge","youngCatImg","medCatImg","grownCatImg","oldCatImg","getCatImage","alt","AboutPage","isDialogOpen","setDialogOpen","clickCount","href","Dialog","onBackdropClick","grumpyCatImg","LocationError","onClose","Button","App","history","useHistory","location","useLocation","tab","setTab","isLoaded","setIsLoaded","hasLocationError","setLocationError","tabs","setTabFromParam","param","view","findIndex","getUserLocation","navigator","geolocation","getCurrentPosition","navigatorSuccess","navigatorError","timeout","pathname","AppBar","Tabs","variant","Tab","icon","component","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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+EAG0B0C,MAAMD,GAHhC,cAGcE,EAHd,gBAI2BA,EAAIC,OAJ/B,cAIcC,EAJd,yBAKeA,GALf,kCAOQC,QAAQC,IAAR,MAPR,2D,sBChEO,IAAMC,EAAa,CACtBC,gBA2GJ,SAAyBC,EAAOzH,EAAG0H,EAAOC,EAAOC,EAAIC,EAAItB,GACrD,MAAO,CACHvG,KACA8H,KAAMC,IACNC,IAAKP,EACLQ,IAAKC,EAAWR,EAAOC,GACvBQ,OAAQC,EAAgBR,EAAIC,EAAItB,MA9GlC8B,EAAW,CAChB,OACA,QACA,QACA,OACA,SACA,SACA,OACA,QACA,MACA,MACA,QACA,QACA,QACA,SACA,OACA,SACA,SACA,UACA,UACA,QACA,OACA,OACA,SACA,UACA,QACA,QACA,QACA,SACA,WACA,SACA,SACA,QACA,SACA,SACA,OACA,UACA,SACA,OACA,QACA,MACA,QACA,OACA,OACA,OACA,QACA,OACA,OACA,SACA,MACA,MACA,WACA,OACA,OACA,aACA,QACA,QACA,UACA,QACA,SACA,OACA,SACA,OACA,QACA,UACA,SACA,SACA,WACA,WACA,UACA,SACA,QACA,QACA,QACA,MACA,WACA,QACA,QACA,QACA,UACA,SACA,QACA,QACA,QACA,SACA,WACA,WACA,WACA,QACA,SACA,SACA,QACA,QACA,SACA,aACA,OACA,UACA,WACA,SACA,MACA,QAcD,SAASN,IACL,IAAMO,EAAOzF,EAAYc,aAAa,EAAE0E,EAAStF,QACjD,OAAOsF,EAASC,GAGpB,SAASJ,IAAgC,IAArBR,EAAoB,uDAAb,EAAEC,EAAW,uDAAJ,GAE1BY,EAAS1F,EAAYc,aAAoB,GAAP+D,EAAiB,GAAPC,GAClD,OAAIY,EAAS,GAAU,GAAN,OAAUA,EAAV,WACX,GAAN,OAAUnF,KAAKC,MAAMkF,EAAQ,KAGjC,SAASH,EAAgBR,EAAIC,EAAItB,GAE7B,IAAMiC,EAAWjC,EAAU,IAAMnD,KAAK0B,GAAK,EAK3C,MAAO,CACH8C,IAJc/E,EAAYc,aAAiB,IAAJiE,EAAqB,IAATY,EAAqB,IAAJZ,EAAsB,IAAVY,GAAmB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","file":"static/js/main.7b30a65a.chunk.js","sourcesContent":["\nimport { SelectAll } from '@material-ui/icons'\nimport React, { useEffect, useRef, useState } from 'react'\n\nexport function Card({ children,\n    parentRef,\n    id,\n    lastIdChanged,\n    swipeSuccessMarginPercentage = 70,\n    onSwipeRight = () => { },\n    onSwipeLeft = () => { },\n    onSwipeEnd = () => { },\n}) {\n\n    const cardRef = useRef()\n    \n    let shouldMove = false\n\n    let lastX = null\n    let lastY = null\n\n    const parentLimit = parentRef.offsetWidth / (1 + (swipeSuccessMarginPercentage / 100))\n\n    const isInRightLimit = useRef()\n    const isInLeftLimit = useRef()\n\n    const [offsetX, setOffsetX] = useState(0)\n    const [offsetY, setOffsetY] = useState(0)\n\n    const [elClass, setElClass] = useState('')\n\n    const rotation = useRef(0)\n\n    function onMove(x, y) {\n        if (!lastX || !lastY) {\n            lastX = x\n            lastY = y\n            return\n        }\n\n\n        setOffsetX(offsetX + (x - lastX))\n        setOffsetY(offsetY + (y - lastY))\n    }\n\n    useEffect(() => {\n        if (offsetX > 0) {\n            onSwipeRight(offsetX)\n        }\n        if (offsetX < 0) {\n            onSwipeLeft(offsetX)\n        }\n    }, [offsetX, onSwipeLeft, onSwipeRight])\n\n    useEffect(() => {\n        if (lastIdChanged.id === id) {\n            onSwipeComplete(lastIdChanged.dir)\n        }\n    }, [lastIdChanged.id, id, onSwipeComplete])\n\n    function checkSwipeEndLocation() {\n        if (isInRightLimit.current) {\n            onSwipeComplete('right')\n            return 'right'\n        }\n        if (isInLeftLimit.current) {\n            onSwipeComplete('left')\n            return 'left'\n        }\n\n        return null\n    }\n\n    function onSwipeComplete(dir) {\n        setElClass(`card-swiped-${dir}`)\n        setTimeout(() => {\n            // delay outputing the result in order for the animation to work\n            onSwipeEnd(id, dir)\n        }, 500)\n    }\n\n    function onMoveEnd(ev) {\n        shouldMove = false\n        if (checkSwipeEndLocation()) return\n        setElClass('reseting')\n\n        setOffsetX(0)\n        setOffsetY(0)\n        // setRotation(0)\n        rotation.current = 0\n        lastX = 0\n        lastY = 0\n        setTimeout(() => {\n            setElClass('')\n        }, 500);\n    }\n\n\n    function onMouseMove(ev) {\n        if (shouldMove) {\n            onMove(ev.clientX, ev.clientY)\n        }\n\n    }\n\n    function onMouseDown(ev) {\n        shouldMove = true\n    }\n\n    // function onMouseUp(ev) {\n    //     onMoveEnd()\n    // }\n\n    // function onTouchEnd(ev) {\n    //     onMoveEnd()\n    // }\n\n\n    function onTouchMove(ev) {\n        \n        ev.preventDefault()\n        onMove(ev.touches[0].clientX, ev.touches[0].clientY)\n    }\n\n\n\n    useEffect(() => {\n        if (cardRef.current) {\n            cardRef.current.addEventListener('mousedown', onMouseDown)\n            cardRef.current.addEventListener('mouseup', onMoveEnd)\n            cardRef.current.addEventListener('mousemove', onMouseMove)\n            cardRef.current.addEventListener('touchmove', onTouchMove)\n            cardRef.current.addEventListener('touchend', onMoveEnd)\n        }\n    }, [])\n\n    useEffect(() => {\n        // if (offsetX > 0) {\n        // handling right side\n        if (offsetX > parentLimit) {\n            isInRightLimit.current = true\n        } else {\n            isInRightLimit.current = false\n        }\n\n        if (offsetX < parentLimit * -1) {\n            isInLeftLimit.current = true\n        } else {\n            isInLeftLimit.current = false\n        }\n\n\n        rotation.current = (offsetX / parentLimit / 10)\n\n    }, [offsetX, parentLimit, isInRightLimit])\n\n    return (\n        <div ref={cardRef} style={{ transform: `matrix(1.00,${rotation.current},${-rotation.current},1.00,${offsetX},${offsetY})` }} className={`card-container ${elClass}`}>\n            {children}\n        </div>\n    )\n}\n","export const utilService = {\n    makeId,\n    parseTimestamp,\n    getRandomInt,\n    getDistanceFromLatLonInKm\n}\n\n\nfunction getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\n    var R = 6371; // Radius of the earth in km\n    var dLat = deg2rad(lat2 - lat1);  // deg2rad below\n    var dLon = deg2rad(lon2 - lon1);\n    var a =\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n        Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *\n        Math.sin(dLon / 2) * Math.sin(dLon / 2)\n        ;\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    var d = R * c; // Distance in km\n    return d;\n\n    function deg2rad(deg) {\n        return deg * (Math.PI / 180)\n    }\n    \n}\n\n\nfunction makeId(length = 5) {\n    var txt = '';\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < length; i++) {\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return txt;\n}\n\nfunction parseTimestamp(timestamp) {\n    const parsedTime = new Date(timestamp)\n    return parsedTime.toLocaleString()\n}\n\nfunction getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}","export const storageService = {\n    saveToStorage,\n    loadFromStorage\n}\n\nfunction saveToStorage(key, val) {\n    var str = JSON.stringify(val);\n    localStorage.setItem(key, str)\n}\n\nfunction loadFromStorage(key) {\n    var str = localStorage.getItem(key);\n    var val = JSON.parse(str)\n    return val;\n}","import { storageService } from \"./storageService\"\n\nexport const cardService = {\n    getCats,\n    onLike,\n    onDislike,\n    getLikedCats,\n    getUserPrefs,\n    setMaxRadius,\n    setCatAge,\n    onUndo\n}\n\n\nasync function getCats(amount = 20) {\n    const cats = await _httpGet(`https://api.thecatapi.com/v1/images/search?limit=${amount}`)\n    return cats\n}\n\nfunction setMaxRadius(maxRadius) {\n    const userPrefs = getUserPrefs()\n    userPrefs.maxRadius = maxRadius\n    storageService.saveToStorage('catUserPrefs', userPrefs)\n}\n\nfunction setCatAge(min, max) {\n    const userPrefs = getUserPrefs()\n    userPrefs.catAgeMin = min\n    userPrefs.catAgeMax = max\n    storageService.saveToStorage('catUserPrefs', userPrefs)\n}\n\nfunction getUserPrefs() {\n    let userPrefs = storageService.loadFromStorage('catUserPrefs')\n    if (!userPrefs) userPrefs = { maxRadius: 10, catAgeMin: 0, catAgeMax: 12 }\n    return userPrefs\n}\n\nfunction onLike(likedCats) {\n    let cats = storageService.loadFromStorage('cats')\n    if (!cats) cats = { likedCats: [], dislikedCats: [] }\n    cats.likedCats = likedCats\n    storageService.saveToStorage('cats', cats)\n}\n\nfunction onDislike(cat) {\n    let cats = storageService.loadFromStorage('cats')\n    if (!cats) cats = { likedCats: [], dislikedCats: [] }\n    cats.dislikedCats.push(cat)\n    storageService.saveToStorage('cats', cats)\n}\n\nfunction onUndo() {\n    let cats = storageService.loadFromStorage('cats')\n    const cat = cats.dislikedCats.pop()\n    storageService.saveToStorage('cats',cats)\n    \n    return cat\n}\n\nfunction getLikedCats() {\n    let cats = storageService.loadFromStorage('cats')\n    if (!cats) cats = { likedCats: [], dislikedCats: [] }\n    storageService.saveToStorage('cats', cats)\n    return cats.likedCats\n}\nasync function _httpGet(url) {\n\n    try {\n        const res = await fetch(url)\n        const data = await res.json()\n        return data\n    } catch (err) {\n        console.log(err)\n    }\n}\n","import { utilService } from \"./utilService\"\n\nexport const catService = {\n    createCatObject\n}\n\nconst catNames = [\n\t\"Abby\",\n\t\"Angel\",\n\t\"Annie\",\n\t\"Baby\",\n\t\"Bailey\",\n\t\"Bandit\",\n\t\"Bear\",\n\t\"Bella\",\n\t\"Bob\",\n\t\"Boo\",\n\t\"Boots\",\n\t\"Bubba\",\n\t\"Buddy\",\n\t\"Buster\",\n\t\"Cali\",\n\t\"Callie\",\n\t\"Casper\",\n\t\"Charlie\",\n\t\"Chester\",\n\t\"Chloe\",\n\t\"Cleo\",\n\t\"Coco\",\n\t\"Cookie\",\n\t\"Cuddles\",\n\t\"Daisy\",\n\t\"Dusty\",\n\t\"Felix\",\n\t\"Fluffy\",\n\t\"Garfield\",\n\t\"George\",\n\t\"Ginger\",\n\t\"Gizmo\",\n\t\"Gracie\",\n\t\"Harley\",\n\t\"Jack\",\n\t\"Jasmine\",\n\t\"Jasper\",\n\t\"Kiki\",\n\t\"Kitty\",\n\t\"Leo\",\n\t\"Lilly\",\n\t\"Lily\",\n\t\"Loki\",\n\t\"Lola\",\n\t\"Lucky\",\n\t\"Lucy\",\n\t\"Luna\",\n\t\"Maggie\",\n\t\"Max\",\n\t\"Mia\",\n\t\"Midnight\",\n\t\"Milo\",\n\t\"Mimi\",\n\t\"Miss kitty\",\n\t\"Missy\",\n\t\"Misty\",\n\t\"Mittens\",\n\t\"Molly\",\n\t\"Muffin\",\n\t\"Nala\",\n\t\"Oliver\",\n\t\"Oreo\",\n\t\"Oscar\",\n\t\"Patches\",\n\t\"Peanut\",\n\t\"Pepper\",\n\t\"Precious\",\n\t\"Princess\",\n\t\"Pumpkin\",\n\t\"Rascal\",\n\t\"Rocky\",\n\t\"Sadie\",\n\t\"Salem\",\n\t\"Sam\",\n\t\"Samantha\",\n\t\"Sammy\",\n\t\"Sasha\",\n\t\"Sassy\",\n\t\"Scooter\",\n\t\"Shadow\",\n\t\"Sheba\",\n\t\"Simba\",\n\t\"Simon\",\n\t\"Smokey\",\n\t\"Snickers\",\n\t\"Snowball\",\n\t\"Snuggles\",\n\t\"Socks\",\n\t\"Sophie\",\n\t\"Spooky\",\n\t\"Sugar\",\n\t\"Tiger\",\n\t\"Tigger\",\n\t\"Tinkerbell\",\n\t\"Toby\",\n\t\"Trouble\",\n\t\"Whiskers\",\n\t\"Willow\",\n\t\"Zoe\",\n\t\"Zoey\"\n]\n\n\nfunction createCatObject(catImg,id,minAge,maxAge,lat,lng,maxRadius) {\n    return {\n        id,\n        name: _getCatName(),\n        img: catImg,\n        age: _getCatAge(minAge,maxAge),\n        coords: _getCatLocation(lat,lng,maxRadius)\n    }\n}\n\nfunction _getCatName() {\n    const rand = utilService.getRandomInt(0,catNames.length)\n    return catNames[rand]\n}\n\nfunction _getCatAge(minAge=0,maxAge=12) {\n    \n    const catAge = utilService.getRandomInt(minAge*12,maxAge*12)\n    if (catAge < 12) return `${catAge} months`\n    return `${Math.floor(catAge /12)}`\n}\n\nfunction _getCatLocation(lat,lng,maxRadius) {\n\n    const distance = maxRadius/100 / Math.PI * 2\n    // const distanceForCalc = distance * 10000\n    const outputLat = utilService.getRandomInt(lat*10000 - distance*10000 , lat*10000 + distance *10000) / 10000\n    const outputLng = utilService.getRandomInt(lng*10000 - distance*10000 , lng*10000 + distance * 10000) / 10000\n    \n    return {\n        lat: outputLat,\n        lng: outputLng\n    }\n}\n\n\n","import { runInAction, toJS } from \"mobx\"\nimport { cardService } from \"../services/cardService\"\nimport { catService } from \"../services/catService\"\n\n\nexport function createCardStore() {\n    return {\n        cards: [],\n        likedCats: [],\n        maxDistance: 10,\n        catAgeMin: 0,\n        catAgeMax: 12,\n        userLocation: null,\n        setUserLocation(coords) {\n            const {latitude, longitude} = coords.coords\n            \n            this.userLocation = {latitude,longitude}\n        },\n        async getCats() {\n            const amountOfCatsToLoad = 20\n            if (this.cards.length === amountOfCatsToLoad) return\n            const cats = await cardService.getCats(amountOfCatsToLoad-this.cards.length)\n            runInAction(() => {\n                cats.forEach(cat => {\n                    const catObj = catService.createCatObject(cat.url,cat.id,this.catAgeMin,this.catAgeMax,this.userLocation.latitude,this.userLocation.longitude,this.maxDistance)\n                    this.cards.unshift(catObj)\n                })\n            })\n            return\n        }, \n        getUserPrefs() {\n            const userPrefs = cardService.getUserPrefs()\n            this.maxDistance = userPrefs.maxRadius\n            this.catAgeMin = userPrefs.catAgeMin\n            this.catAgeMax = userPrefs.catAgeMax\n        },\n        setCatAge(min,max) {\n            this.catAgeMin = min\n            this.catAgeMax = max\n            this.cards = []\n            cardService.setCatAge(min,max)\n            // this.getCats()\n        },\n        setMaxRadius(maxRadius) {\n            this.maxDistance = maxRadius\n            this.cards = []\n            cardService.setMaxRadius(maxRadius)\n        },\n        getLikedCats() {\n            const likedCats = cardService.getLikedCats()\n            \n            this.likedCats = likedCats\n        },\n        onSwipe(cat,dir) {\n            this.cards = this.cards.filter(currCat => currCat.id !== cat.id)\n            this.likedCats.unshift(cat)\n\n            if (dir === 'right') {\n                cardService.onLike(toJS(this.likedCats))\n            } else {\n                cardService.onDislike(cat)\n            }\n\n            if (this.cards.length < 10) {\n                this.getCats()\n            }\n        },\n        onUndo() {\n            const cat = cardService.onUndo()\n            if (!cat) return null\n            this.cards.push(cat)\n            return cat\n        },\n        onDislikeCatById(id) {\n            this.likedCats = this.likedCats.filter(currCat => currCat.id !== id)\n            cardService.onLike(toJS(this.likedCats))\n        }\n    }\n}","import React from 'react'\nimport { useLocalStore } from 'mobx-react'\nimport { createCardStore } from './cardStore'\n\n\nconst StoreContext = React.createContext(null)\n\nexport const StoreProvider = ({ children }) => {\n    const cardStore = useLocalStore(createCardStore)\n\n\n    const stores = {\n        cardStore\n        \n    }\n\n    return <StoreContext.Provider value={stores}>\n        {children}\n    </StoreContext.Provider>\n}\n\nexport const useStore = () => React.useContext(StoreContext)\n","import { CircularProgress } from '@material-ui/core'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { utilService } from '../services/utilService'\nimport { useStore } from '../store/storeContext'\n\nexport function Cat({ cat }) {\n\n    const store = useStore()\n    const { cardStore } = store\n    const { userLocation } = cardStore\n\n    const [imgReady, setImgReady] = useState(false)\n\n    useEffect(() => {\n        const catImg = new Image();\n        catImg.src = cat.img\n        catImg.onload = () => {\n            setImgReady(true)\n        }\n        return(() => {})\n    }, [cat.img])\n\n\n\n    return (\n        <React.Fragment>{\n            (!imgReady) ? (\n                <div className=\"cat-container\">\n                    <CircularProgress />\n                </div>\n            ) : (\n                    <div className=\"cat-container\" style={{ backgroundImage: `url('${cat.img}')` }}>\n                        <div className=\"mask\">\n                            <div className=\"placeholder\" />\n                            <div className=\"cat-details\">\n                                <div className=\"cat-header\">\n                                    <span><h3 className=\"cat-name\">{cat.name}</h3></span>\n                                    <span className=\"cat-age\">{cat.age}</span>\n                                </div>\n                                <div className=\"cat-distance\">\n                                    {(userLocation) ? \n                                        <span >{Math.round(utilService.getDistanceFromLatLonInKm(userLocation.latitude, userLocation.longitude, cat.coords.lat, cat.coords.lng))} km away</span>\n                                        : <React.Fragment />\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>)\n        }\n        </React.Fragment>\n    )\n}\n","import { Slide, Snackbar } from '@material-ui/core'\nimport React from 'react'\n\nexport function Toast({ isOpen, behavior }) {\n\n    \n    function getMsg() {\n        switch (behavior) {\n            case 'like':\n                return 'Liked!'\n            case 'dislike':\n                return 'Nope'\n            default:\n                return 'Undo'\n        }\n    }\n\n    function getColor() {\n        switch (behavior) {\n            case 'like':\n                return '#63D471'\n            case 'dislike':\n                return '#fd5068'\n            default:\n                return 'rgb(64,64,64)'\n        }\n    }\n\n    function getDirection() {\n        switch (behavior) {\n            case 'like':\n                return 'left'\n            case 'dislike':\n                return 'right'\n            default:\n                return 'up'\n        }\n    }\n\n    return (\n        <Slide in={isOpen} direction={getDirection()}>\n            <Snackbar open={true}>\n                <div className=\"snackbar-container\" style={{ backgroundColor: getColor() }}>\n                    <h3>{getMsg()}</h3>\n                </div>\n            </Snackbar>\n        </Slide>\n    )\n}\n","\nimport { observer, useObserver } from 'mobx-react';\nimport React, { useEffect, useRef, useState } from 'react'\nimport { Card } from '../cmps/Card';\nimport { Cat } from '../cmps/Cat';\nimport { useStore } from '../store/storeContext';\nimport { toJS } from 'mobx';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SettingsBackupRestoreIcon from '@material-ui/icons/SettingsBackupRestore';\nimport { Fab } from '@material-ui/core';\nimport { Toast } from '../cmps/Toast';\n\nexport function CardSwipePage() {\n\n    const store = useStore()\n\n    const { cardStore } = store\n    const ref = useRef()\n\n    const [containerReady, setContainerReady] = useState(false)\n\n    const [lastIdChanged, setLastIdChanged] = useState({ id: null, dir: '' })\n\n    const [isSnackBarOpen, setSnackBarOpen] = useState(false)\n    const [snackBarBehavior, setSnackBarBehavior] = useState('')\n\n    useEffect(() => {\n        cardStore.getCats()\n        window.addEventListener('keyup', onKeyPress)\n        return () => {\n            window.removeEventListener('keyup', onKeyPress)\n        }\n    }, [])\n\n\n    useEffect(() => {\n        if (ref.current) setContainerReady(true)\n        return () => {\n            setContainerReady(false)\n        }\n    }, [ref.current])\n\n    function onKeyPress(ev) {\n        if (ev.keyCode === 39) {\n            onManualLike()\n        } else if (ev.keyCode === 37) {\n            onManualDislike()\n        }\n    }\n\n    function onManualLike() {\n        const cats = toJS(cardStore.cards)\n        const cat = cats[cats.length - 1]\n        setLastIdChanged({ id: cat.id, dir: 'right' })\n    }\n\n    function onManualDislike() {\n        const cats = toJS(cardStore.cards)\n        const cat = cats[cats.length - 1]\n        setLastIdChanged({ id: cat.id, dir: 'left' })\n    }\n\n    function onClickUndo() {\n        setLastIdChanged({ id: null, dir: '' })\n        const undo = cardStore.onUndo()\n        if (!undo) return\n        openSnackbar('undo')\n    }\n\n    const onSwipe = (catId, dir) => {\n        const cats = toJS(cardStore.cards)\n        const cat = cats.find(cat => cat.id === catId)\n        if (!cat) return\n        cardStore.onSwipe(cat, dir)\n        if (dir === 'right') {\n            openSnackbar('like')\n        } else {\n            openSnackbar('dislike')\n        }\n    }\n\n    function openSnackbar(behavior) {\n        setSnackBarBehavior(behavior)\n        setSnackBarOpen(true)\n        setTimeout(() => {\n            setSnackBarOpen(false)\n        }, 3000);\n    }\n\n    return useObserver(() => (\n        <section className=\"card-page-container\">\n            <div className=\"upper-container\">\n                <div ref={ref} className=\"cards-container\">\n\n                    {(cardStore.cards.length && containerReady) ?\n                        <div >\n                            {cardStore.cards.map((card, idx) => <Card parentRef={ref.current} key={`${card.id}-${idx}`} lastIdChanged={lastIdChanged} id={card.id} onSwipeEnd={onSwipe}><Cat cat={card} /></Card>)}\n                        </div>\n                        : <React.Fragment />\n                    }\n                </div>\n            </div>\n            <div className=\"bottom-action-bar\">\n                <div className=\"dislike-container\">\n                    <Fab onClick={onManualDislike}>\n                        <CloseIcon />\n                    </Fab>\n                </div>\n                <div className=\"undo-container\">\n\n                    <Fab onClick={onClickUndo}>\n                        <SettingsBackupRestoreIcon />\n                    </Fab>\n                </div>\n                <div className=\"like-container\">\n                    <Fab onClick={onManualLike}>\n                        <FavoriteIcon />\n                    </Fab>\n                </div>\n            </div>\n            <Toast isOpen={isSnackBarOpen} behavior={snackBarBehavior} />\n        </section>\n    )\n    )\n}\n","\nimport { Fab, IconButton } from '@material-ui/core'\nimport { toJS } from 'mobx'\nimport { useObserver } from 'mobx-react'\nimport React, { useEffect } from 'react'\nimport { Cat } from '../cmps/Cat'\nimport { useStore } from '../store/storeContext'\nimport CloseIcon from '@material-ui/icons/Close';\n\nexport function LikedCatsPage(props) {\n    const store = useStore()\n    const { cardStore } = store\n\n    useEffect(() => {\n        cardStore.getLikedCats()\n    }, [])\n\n\n    return useObserver(() => (\n        <section className=\"liked-cats-page\">\n            <h2>Liked Cats</h2>\n            <div className=\"liked-cats-container\">\n                {(cardStore.likedCats && cardStore.likedCats.length) ?\n                    cardStore.likedCats.map(cat => <React.Fragment key={cat.id}>\n                        <div className=\"liked-cat-container\">\n                            <div className=\"close-container\">\n                                {/* <Fab size=\"small\"> */}\n                                <IconButton onClick={() => cardStore.onDislikeCatById(cat.id)} size=\"small\">\n                                    <CloseIcon fontSize=\"small\" />\n                                </IconButton>\n                                {/* </Fab> */}\n                            </div>\n                            <Cat cat={cat} />\n                        </div>\n                    </React.Fragment>) :\n                    <div className=\"liked-cats-empty-state\">\n                        <h3>No Cats!</h3>\n                        <p>Looks like you haven't liked any cats.</p>\n                        <p>Why not like some now?</p>\n                    </div>\n                }\n            </div>\n        </section>\n    )\n    )\n}\n","export default __webpack_public_path__ + \"static/media/baby-cat.21007a7b.jpg\";","export default __webpack_public_path__ + \"static/media/med-cat.aa909114.jpg\";","export default __webpack_public_path__ + \"static/media/grown-cat.ee771749.jpg\";","export default __webpack_public_path__ + \"static/media/old-cat.976ce761.jpg\";","import { Slider } from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useStore } from '../store/storeContext'\nimport youngCatImg from '../assets/imgs/baby-cat.jpg'\nimport medCatImg from '../assets/imgs/med-cat.jpg'\nimport grownCatImg from '../assets/imgs/grown-cat.jpg'\nimport oldCatImg from '../assets/imgs/old-cat.jpg'\n\nexport function UserPrefPage() {\n\n    const store = useStore()\n    const { cardStore } = store\n\n    const [catAge, setCatAge] = useState([0, 12])\n    const [radius, setRadius] = useState(10)\n\n    useEffect(() => {\n        const { catAgeMin, catAgeMax, maxDistance } = cardStore\n        setCatAge([catAgeMin, catAgeMax])\n        setRadius(maxDistance)\n    }, [cardStore])\n\n    function onChangeCatAge(ev, catAge) {\n        setCatAge(catAge)\n        cardStore.setCatAge(catAge[0], catAge[1])\n    }\n\n    function onChangeRadius(ev, maxRadius) {\n        setRadius(maxRadius)\n        cardStore.setMaxRadius(maxRadius)\n    }\n\n    function getCatImage() {\n        const avgCatAge = (catAge[0] + catAge[1]) / 2\n        if (avgCatAge < 2) return youngCatImg\n        if (avgCatAge < 9) return medCatImg\n        if (avgCatAge < 15) return grownCatImg\n        return oldCatImg\n    }\n\n    return (\n        <section className=\"user-pref-page\">\n            <div className=\"slider-container\">\n                <div className=\"header\">\n                    <h3>Filter the cats you want to meet</h3>\n                </div>\n                <div className=\"cat-age-container\">\n                    <div className=\"header\">\n                        <span>Age Range</span>\n                        <span>{catAge[0]} - {catAge[1]}</span>\n                    </div>\n\n                    <Slider\n                        value={catAge}\n                        color=\"secondary\"\n                        onChange={onChangeCatAge}\n                        valueLabelDisplay=\"auto\"\n                        aria-labelledby=\"range-slider\"\n                        min={0}\n                        max={20}\n                    />\n                </div>\n                <div className=\"max-radius-container\">\n                    <div className=\"header\">\n                        <span>Maximum Distance</span>\n                        <span>{radius} km</span>\n                    </div>\n                    <Slider\n                        value={radius}\n                        color=\"secondary\"\n                        onChange={onChangeRadius}\n                        valueLabelDisplay=\"auto\"\n                        min={0}\n                        max={100}\n                    />\n                </div>\n            </div>\n            <div className=\"cat-img-container\">\n                <img src={getCatImage()} alt=\"cat\" />\n            </div>\n        </section>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/grumpycat.99162d77.jpg\";","import { Dialog } from '@material-ui/core'\nimport React, { useState, useEffect } from 'react'\nimport grumpyCatImg from '../assets/imgs/grumpycat.jpg'\n\nexport function AboutPage() {\n\n    const [isDialogOpen, setDialogOpen] = useState(false)\n\n    let clickCount = 0\n\n    useEffect(() => {\n        window.addEventListener('click',onClick)\n        return () => {\n            window.removeEventListener('click',onClick)\n        }\n    }, [])\n\n    function onClick() {\n        clickCount += 1\n        if (clickCount === 10) {\n            clickCount = 0\n            setDialogOpen(true)\n        }\n    }\n\n\n    return (\n        <section className=\"about-page\">\n            <div className=\"header\">\n                <h2>About <span>CaTinder</span></h2>\n            </div>\n            <div className=\"app-desc\">\n                <p>CaTinder started as a joke project to create, as you might have guessed, a Tinder for cats.</p>\n                <p>If you're wondering, they wont like you back.</p>\n                <p>They don't have thumbs...</p>\n                <p>And also... they're cats...</p>\n            </div>\n\n            <div className=\"credits\">\n                <p>Thanks to <a href=\"https://thecatapi.com/\">The Cat API</a> for the cat photos.</p>\n                <p>This project was created by <a href=\"https://yaronl219.github.io/portfolio/\">Yaron Lipshitz</a></p>\n                <p>If you want to see more projects, visit my <a href=\"https://yaronl219.github.io/portfolio/\"><span>portfolio</span></a></p>\n            </div>\n            <div className=\"adopt\">\n                <h4>Like the cats?</h4>\n                <p>Why not <a href=\"https://www.google.com/search?q=adopt+a+pet&oq=adopt+a+pet\">Adopt a new friend?</a></p>\n            </div>\n            <div className=\"tools\">\n                <h4>Tools used in this project:</h4>\n                <ul>\n                    <li>React</li>\n                    <li>MobX</li>\n                    <li>SCSS</li>\n                    <li>Material UI</li>\n                </ul>\n            </div>\n            \n            <Dialog open={isDialogOpen } onBackdropClick={() => {setDialogOpen(false)}}>\n                <div onClick={() => {setDialogOpen(false)}} className=\"easter-egg\">\n                    <img src={grumpyCatImg} alt=\"grumpy cat\"/>\n                </div>\n            </Dialog>\n        </section>\n    )\n}\n","import { Button } from '@material-ui/core'\nimport React from 'react'\n\nexport function LocationError({onClose}) {\n    return (\n        <div className=\"location-error-container\">\n            <h3>No location found</h3>\n            <p>This app requires access to your location in order to work.</p>\n            <p>Please enable your location to be found via the browser and click OK once you've done so</p>\n            <Button onClick={onClose} color=\"secondary\">\n                OK\n            </Button>\n        </div>\n    )\n}\n","import { AppBar, Tabs, Tab, Dialog } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { Switch, useHistory, Route, useLocation } from 'react-router-dom';\nimport { CardSwipePage } from './Pages/CardSwipePage';\nimport { LikedCatsPage } from './Pages/LikedCatsPage';\nimport { UserPrefPage } from './Pages/UserPrefPage';\nimport { useStore } from './store/storeContext';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport PetsIcon from '@material-ui/icons/Pets';\nimport PersonIcon from '@material-ui/icons/Person';\nimport InfoIcon from '@material-ui/icons/Info';\nimport { AboutPage } from './Pages/AboutPage';\nimport { LocationError } from './cmps/LocationError';\n\nfunction App() {\n\n  const history = useHistory()\n  const location = useLocation()\n  const store = useStore()\n  const { cardStore } = store\n\n  const [tab, setTab] = useState(0)\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [hasLocationError, setLocationError] = useState(false)\n\n  const tabs = ['/home', '/liked', '/user', '/about']\n\n  useEffect(() => {\n    getUserLocation()\n  }, [])\n\n  useEffect(() => {\n    const { pathname } = location\n    setTabFromParam(pathname)\n  }, [location.pathname])\n\n  function setTabFromParam(param) {\n    let view = tabs.findIndex(tab => tab === param)\n    if (view < 0) view = 0\n    setTab(view)\n    history.push(tabs[view])\n  }\n\n  function getUserLocation() {\n    console.log('getting user location')\n    navigator.geolocation.getCurrentPosition(navigatorSuccess,navigatorError,{timeout:60000})\n  }\n\n  function navigatorSuccess(ev) {\n    console.log('app got loc')\n    cardStore.setUserLocation(ev)\n    cardStore.getUserPrefs()\n    console.log('loaded')\n    setIsLoaded(true)\n  }\n\n  function navigatorError(ev) {\n    console.log('error',ev)\n    setLocationError(true)\n  }\n\n  function onCloseLocationAndRetry() {\n    setLocationError(false)\n    getUserLocation()\n  }\n\n  return (\n    <div className=\"App\">\n      <Dialog open={hasLocationError}>\n        <LocationError onClose={onCloseLocationAndRetry} />\n        </Dialog>\n      <AppBar>\n        <Tabs value={tab} variant=\"fullWidth\" onChange={(ev, val) => setTabFromParam(tabs[val])}>\n          <Tab icon={<PetsIcon />} />\n          <Tab icon={<FavoriteIcon />} />\n          <Tab icon={<PersonIcon />} />\n          <Tab icon={<InfoIcon />} />\n        </Tabs>\n      </AppBar>\n      {(isLoaded) ?\n        <Switch>\n          <Route component={AboutPage} path=\"/about\" />\n          <Route component={UserPrefPage} path=\"/user\" />\n          <Route component={LikedCatsPage} path=\"/liked\" />\n          <Route component={CardSwipePage} path=\"/\" />\n        </Switch>\n        :\n        <React.Fragment />\n      }\n\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/styles/global.scss'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StoreProvider } from './store/storeContext';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <HashRouter>\n    <StoreProvider>\n      <App />\n    </StoreProvider>\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}